import{_ as e,o as a,c as s,Q as o}from"./chunks/framework.a48fc0d2.js";const y=JSON.parse('{"title":"MDNS","description":"","frontmatter":{},"headers":[],"relativePath":"library_guide/mdns.md","filePath":"library_guide/mdns.md","lastUpdated":1697292541000}'),n={name:"library_guide/mdns.md"},t=o(`<h1 class="text-[var(--font-accent)]" id="mdns" tabindex="-1">MDNS <a class="header-anchor" href="#mdns" aria-label="Permalink to &quot;MDNS {.text-[var(--font-accent)]}&quot;">​</a></h1><h2 id="what-is-it" tabindex="-1">What is it? <a class="header-anchor" href="#what-is-it" aria-label="Permalink to &quot;What is it?&quot;">​</a></h2><p><code>mDNS</code> is a protocol that allows you to connect to a device using a name instead of an IP address. This is useful if you do not know the IP address of the device, or if you do not want to keep track of the IP address of the device. This is also useful if you are using a device that does not have a static IP address.</p><p>In the <code>mDNS</code> protocol the IP address of the device can change, but the name of the device will always be the same. This means that you can connect to the device using the name of the device, even if the IP address of the device changes.</p><h2 id="how-to-use-it" tabindex="-1">How to use it <a class="header-anchor" href="#how-to-use-it" aria-label="Permalink to &quot;How to use it&quot;">​</a></h2><h3 id="enable-mdns" tabindex="-1">Enable mDNS <a class="header-anchor" href="#enable-mdns" aria-label="Permalink to &quot;Enable mDNS&quot;">​</a></h3><p>The <code>mDNS</code> is enabled by instantiating the <code>MDNSManager</code> class and calling it&#39;s <code>begin()</code> method. This will enable the <code>mDNS</code> protocol on the device.</p><div class="info custom-block"><p class="custom-block-title"><strong>Note</strong></p><p>The mDNS Manager is used to create a mDNS service for the device The mDNS Manager constructor takes seven parameters:</p><ol><li>A pointer to the config manager</li><li>The service name</li><li>The service instance name</li><li>The service protocol</li><li>The service description</li><li>The service port</li></ol><div class="warning custom-block"><p class="custom-block-title">Caution</p><p>Service name and service protocol have to be lowercase and begin with an underscore - soon we will add parsing to the class to make sure this is the case. For now you must do this manually.</p></div></div><p>:::</p><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">MDNSHandler</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">mDNS</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">configHandler</span><span style="color:#BABED8;">.</span><span style="color:#BABED8;font-style:italic;">config</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">                 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">_easynetwork</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">                 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">                 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">_tcp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">                 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">_api_port</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span></span>
<span class="line"><span style="color:#BABED8;">                 </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">80</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#BABED8;">mDNS</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">begin</span><span style="color:#89DDFF;">();</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>To use it, all you need to do is set the name of the device in the firmware config file.</p><div class="language-cpp line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// The config manager constructor takes two (optional) parameters: </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 1. The name of the project (used to create the config file name) </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 2. The hostname for your device on the network(used for mDNS and OTA)</span></span>
<span class="line"><span style="color:#FFCB6B;">ConfigHandler</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">configHandler</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">easynetwork</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MDNS_HOSTNAME</span><span style="color:#89DDFF;">);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>By default if you provide no MDNS name to the config constructor the name of the device is set to <code>easynetwork</code>, however you can change it to whatever you want using the REST API at runtime.</p><div class="warning custom-block"><p class="custom-block-title">Change the name</p><p>If you have more than one ESP device on the same network you need to make sure that the hostname of the device is different for each device. If you do not change the name of the device, you will not be able to connect to both devices at the same time and there will be routing conflicts.</p></div><h3 id="connect-to-the-device" tabindex="-1">Connect to the device <a class="header-anchor" href="#connect-to-the-device" aria-label="Permalink to &quot;Connect to the device&quot;">​</a></h3><p>To connect to the device, you need to use the name of the device followed by <code>.local</code>. For example, if the name of the device is <code>esp32</code>, you can connect to the device using <code>http://esp32.local</code>.</p><h2 id="prerequisites-bonjour" tabindex="-1">Prerequisites <code>Bonjour</code> <a class="header-anchor" href="#prerequisites-bonjour" aria-label="Permalink to &quot;Prerequisites \`Bonjour\`&quot;">​</a></h2><p><code>Bonjour</code> is required to use the <code>mDNS</code> protocol <em>for windows 10 and mac only</em>. If you are using Windows, you can download Bonjour from <a href="https://support.apple.com/kb/DL999?locale=en_US" target="_blank" rel="noreferrer">here</a>. If you are using macOS, Bonjour is already installed.</p><p>If you are using windows 11, you should already have mdns features.</p><p>You can also get the fully tested Bonjour package from us <a href="https://github.com/EyeTrackVR/SolidGUI/GUI/assets/3rdParty" target="_blank" rel="noreferrer">here</a> (for Windows only).</p><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><h3 id="can-not-connect-to-the-device" tabindex="-1">Can not connect to the device <a class="header-anchor" href="#can-not-connect-to-the-device" aria-label="Permalink to &quot;Can not connect to the device&quot;">​</a></h3><p>If you can not connect to the device, make sure that the name of the device is correct. If the name of the device is correct, make sure that the device is connected to the network.</p><p>If the device is connected to the network, try to restart the device. If the device is still not connected, try to restart the router.</p>`,24),l=[t];function c(r,i,p,d,h,u){return a(),s("div",null,l)}const D=e(n,[["render",c]]);export{y as __pageData,D as default};
